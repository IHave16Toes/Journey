<html>
<head>
<title> MULTIHOOPS lvl13</title>
<script src="https://simplycodingcourses.com/files/simply.js"></script>
<script>

function start(){
sjs.open("target",800,500);
var scoreText = new sjs.Text("Score: Unknown.var(text = ?).sjs:What?{});",21,"green");
var funk = true;
var time = true;
var time1 = false;
var time2 = false;
var time3 = false;

//Background Music

var playM = new Audio("../Fish/Music/mad_robots.mp3");
var toggle = true;
var musicOn = false;
sjs.keyDown(SPACE_KEY, function(){
	if(toggle == true){
		if(musicOn == false){
			playM.play();
		} else {
			playM.pause();
			musicOn = false;
		}
			toggle = false;
		setTimeout(function(){
			toggle = true;
		},1000);
	}
});

//background

var background = new sjs.Image("background2.gif");
background.setSize(800, 500);

//hoop

var hoop = new sjs.Image("hoop.png");
hoop.setSize(60, 60);
hoop.type = "hoop"
hoop.y = 200
hoop.x = 750

//ball

var basketball = new sjs.Image("basketball.png");
basketball.setSize(50,50);
basketball.type = "ball";
basketball.y = 300;

//obstacles

var enemy1 = new sjs.Image("line (2).png")
enemy1.setHeight(75);
enemy1.x = 400;
enemy1.y = 275;
enemy1.type = "enemy";
setInterval(function(){
	if(time1 == true){
		enemy1.moveTo(400, 300);
		time1 = false;
	} else {
		enemy1.moveTo(400, 20);
		time1 = true;
	}
}, 900);

var enemy = new sjs.Image("line (2).png")
enemy.setHeight(75);
enemy.x = 400;
enemy.y = 300;
enemy.type = "enemy";
setInterval(function(){
	if(time == true){
		enemy.moveTo(400, 300);
		time = false;
	} else {
		enemy.moveTo(400, 275);
		time = true;
	}
}, 980);

var enemy2 = new sjs.Image("line (2).png")
enemy2.setHeight(75);
enemy2.x = 400;
enemy2.y = 50;
enemy2.type = "enemy";
setInterval(function(){
	if(time2 == true){
		enemy2.moveTo(300, 50);
		time2 = false;
	} else {
		enemy2.moveTo(300, 300);
		time2 = true;
	}
}, 1000);

var enemy3 = new sjs.Image("ball.png")
enemy3.setHeight(45);
enemy3.setWidth(45);
enemy3.x = 400;
enemy3.y = 50;
enemy3.type = "enemy";
setInterval(function(){
	if(time3 == true){
		enemy3.moveTo(400, 65);
		time3 = false;
	} else {
		enemy3.moveTo(150, 65);
		time3 = true;
	}
}, 1203);
//controls and collision

sjs.keyDown(N_KEY, function(){
	if(funk == true){
		basketball.pushUp(18);
		basketball.pushRight(18);
		basketball.setGravity(1);
		basketball.bounce();
		basketball.friction = 0.025;
		funk = false;
		setTimeout(function(){
			funk = true;
		}, 2500);
	}
});

sjs.keyDown(C_KEY, function(){
	if(funk == true){
		basketball.pushDown(18);
		basketball.pushRight(18);
		basketball.setGravity(1);
		basketball.bounce();
		basketball.friction = 0.025;
		funk = false;
		setTimeout(function(){
			funk = true;
		}, 2500);
	}
});

sjs.onHit("ball", "hoop", function(x,y){
	window.location = "WIN.html"
	basketball.y = 300;
	basketball.x = 50;
	basketball.setGravity(1);
	basketball.bounce();
});
sjs.onHit("ball", "enemy", function(x,y){
	window.location = "gamerover.html"
});
}//end start
</script>
</head>
<body onload="start()">
<h1> MULTIHOOPS Stage 3 </h1>

<div id="target" style="margin:auto;background:grey;"></div>
</body>
</html>